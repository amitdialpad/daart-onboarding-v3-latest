import{l as we,m as W,_ as $,r as C,c as d,h as l,d as s,t as g,F as P,f as T,n as G,i as S,p as I,k as Ae,o as X,q as F,j as re,v as de,g as Ie,s as Ce,x as M,y as U,z as le,A as Z,e as D,w as $e,T as Me,B as Pe,u as Te,a as xe,C as qe}from"./index-C62D86sW.js";const N={SHOWING_PLAN:"showing_plan",BEGINNER_PHASE_1:"beginner_phase_1",PRO_CONFIGURING:"pro_configuring",PRO_SKILL_SELECTION:"pro_skill_selection"},ue=we("conversation",{state:()=>({currentState:N.SHOWING_PLAN,userPath:null,selectedSkills:[],currentlyConfiguringSkill:null,messages:[],validationImprovements:[],currentPhase:{number:1,name:"Agent Foundation & Skills",status:"pending",currentQuestionIndex:0},milestones:{goal:"",contextSummary:"",completed:[],current:"",upcoming:["Add tools connections","Add safety and behavior guides (guardrails)","Validate","Add more tasks (optional)","Test"]},isWaitingForAI:!1,isProcessing:!1}),getters:{allMessages:a=>a.messages,isWaitingForUser:a=>!a.isWaitingForAI&&!a.isProcessing,milestoneStatus:a=>({goal:a.milestones.goal,contextSummary:a.milestones.contextSummary,completed:a.milestones.completed,current:a.milestones.current,upcoming:a.milestones.upcoming})},actions:{addMessage(a){const c={id:Date.now().toString(),timestamp:new Date,...a};this.messages.push(c)},addAIMessage(a,c="text",m=null,r=null,i=null,e=null,n=null,h=null,u=null,b=null,v=null){this.addMessage({sender:"ai",content:a,type:c,actions:m,improvements:r,progressItems:i,title:e,skills:n,agentGoal:h,preSelectedSkills:u,additionalSkills:b,suggestions:v})},updateMessage(a,c){const m=this.messages.find(r=>r.id===a);m&&Object.assign(m,c)},addUserMessage(a){this.addMessage({sender:"user",content:a,type:"text"})},initializeConversation(a,c=null){this.messages=[],this.milestones.goal=a;const m=W();m.initializeAgent(a),this.setWaitingForAI(!0),setTimeout(()=>{this.addAIMessage(`Perfect! Let's build your ${a} agent.`)},500),setTimeout(()=>{this.addAIMessage("Step 1 of 5: Agent Foundation & Skills")},1200),c&&c.length>0?(c.forEach(r=>{m.addSkill(r)}),setTimeout(()=>{this.addAIMessage("","template-skill-confirmation",null,null,null,null,null,a,c,[{id:"form_collector",label:"Collect forms"},{id:"billing_helper",label:"Answer billing questions"},{id:"question_answering",label:"Answer common questions"},{id:"prescription_refills",label:"Handle prescription refills"},{id:"reminders",label:"Send reminders"},{id:"custom",label:"Something else (I'll describe it)"}]),this.setWaitingForAI(!1)},1900),this.currentState="template_confirmation"):(setTimeout(()=>{this.addAIMessage("First, let's define what your agent can do. You can give it multiple skills - like scheduling appointments AND answering questions. This is what makes your agent powerful!")},1900),setTimeout(()=>{this.addAIMessage("What skills should your agent have? Select all that apply:","skill-selector",null,null,null,null,[{id:"appointment_scheduler",label:"Schedule appointments"},{id:"form_collector",label:"Collect forms"},{id:"billing_helper",label:"Answer billing questions"},{id:"question_answering",label:"Answer common questions"},{id:"prescription_refills",label:"Handle prescription refills"},{id:"reminders",label:"Send reminders"},{id:"custom",label:"Something else (I'll describe it)"}]),this.setWaitingForAI(!1)},2800),this.currentState=N.PRO_SKILL_SELECTION)},selectPath(a){this.userPath=a,a==="beginner"?(this.currentState=N.BEGINNER_PHASE_1,this.currentPhase.status="in_progress",this.milestones.current=`Goal: ${this.milestones.goal}`,this.addAIMessage("Great! Let's start with the basics."),setTimeout(()=>{this.addAIMessage("What's the main purpose of appointments in your business?")},800)):a==="pro"&&(this.currentState=N.PRO_CONFIGURING,this.currentPhase.status="in_progress",setTimeout(()=>{this.addAIMessage("Step 1 of 5: Agent Foundation & Skills")},300),setTimeout(()=>{this.addAIMessage("What skills should your agent have?","skill-selector",null,null,null,null,[{id:"appointment_scheduler",label:"Schedule appointments"},{id:"form_collector",label:"Collect forms"},{id:"billing_helper",label:"Answer billing questions"}]),this.currentState=N.PRO_SKILL_SELECTION},600))},updateMilestone(a){a.current&&(this.milestones.current=a.current),a.contextSummary&&(this.milestones.contextSummary=a.contextSummary),a.completed&&this.milestones.completed.push(a.completed)},setWaitingForAI(a){this.isWaitingForAI=a},setProcessing(a){this.isProcessing=a},updateProgressTracker(a,c){const m=this.messages.find(r=>r.type==="progress-tracker");m&&m.progressItems&&(m.progressItems[a-1].status=c)},completePhaseAndMoveNext(a,c){const m=this.currentPhase.number;this.addAIMessage(`âœ“ Step ${m} complete!`),this.currentPhase.number=a,this.currentPhase.name=c,this.currentPhase.status="in_progress",setTimeout(()=>{this.addAIMessage(`Step ${a} of 6: ${c}`)},500)},clearConversation(){this.messages=[],this.currentState=N.SHOWING_PLAN,this.userPath=null,this.validationImprovements=[],this.currentPhase={number:1,name:"Agent Foundation & Skills",status:"pending",currentQuestionIndex:0},this.milestones={goal:"",contextSummary:"",completed:[],current:"",upcoming:["Add tools connections","Add safety and behavior guides (guardrails)","Validate","Add more tasks (optional)","Test"]}}}}),Ge={class:"validation-container"},Fe={class:"validation-header"},Re={class:"validation-subtitle"},Ne={class:"improvements-list"},We=["onClick"],Le={class:"card-header-left"},Oe={class:"card-number"},Ve={class:"card-title-group"},Be={class:"card-title"},De={class:"expand-icon"},He={key:0,class:"card-content"},Qe={class:"card-description"},Ee={key:0,class:"card-details"},Ye={class:"details-text"},ze={key:1,class:"card-impact"},je={class:"impact-text"},Ke={class:"validation-actions"},Ue={__name:"ValidationCard",props:{improvements:{type:Array,required:!0,default:()=>[]}},emits:["apply-all","review-each"],setup(a){const c=C({}),m=r=>{c.value[r]=!c.value[r]};return(r,i)=>(l(),d("div",Ge,[s("div",Fe,[i[2]||(i[2]=s("h3",null,"Validation Complete",-1)),s("p",Re," Found "+g(a.improvements.length)+" improvements that could enhance your agent ",1)]),s("div",Ne,[(l(!0),d(P,null,T(a.improvements,(e,n)=>(l(),d("div",{key:n,class:G(["improvement-card",{expanded:c.value[n]}])},[s("button",{onClick:h=>m(n),class:"card-header"},[s("div",Le,[s("span",Oe,g(n+1),1),s("div",Ve,[s("h4",Be,g(e.title),1),s("span",{class:G(["card-badge",e.type])},g(e.type),3)])]),s("span",De,g(c.value[n]?"âˆ’":"+"),1)],8,We),c.value[n]?(l(),d("div",He,[s("p",Qe,g(e.description),1),e.details?(l(),d("div",Ee,[i[3]||(i[3]=s("p",{class:"details-label"},"What this means:",-1)),s("p",Ye,g(e.details),1)])):S("",!0),e.impact?(l(),d("div",ze,[i[4]||(i[4]=s("div",{class:"impact-label"},"Impact:",-1)),s("div",je,g(e.impact),1)])):S("",!0)])):S("",!0)],2))),128))]),s("div",Ke,[s("button",{onClick:i[0]||(i[0]=e=>r.$emit("apply-all")),class:"action-button primary"}," Apply All Improvements "),s("button",{onClick:i[1]||(i[1]=e=>r.$emit("review-each")),class:"action-button secondary"}," Review Each Individually ")])]))}},Ze=$(Ue,[["__scopeId","data-v-ed45caf4"]]),Je={class:"vs-preview-card"},Xe={class:"vs-visual"},es={class:"vs-box agent-box"},ss={class:"box-content"},ts={class:"vs-actions"},ns={__name:"VisualStudioPreview",emits:["check-vs","keep-building"],setup(a){const c=W(),m=I(()=>{const r=c.goal||"Healthcare agent";return r.length>40?r.substring(0,40)+"...":r});return(r,i)=>(l(),d("div",Je,[i[5]||(i[5]=s("div",{class:"vs-header"},[s("span",{class:"vs-title"},"Agent Studio sneak peek"),s("span",{class:"vs-arrow"},"â†’")],-1)),s("div",Xe,[s("div",es,[i[2]||(i[2]=s("div",{class:"box-label"},"Agent",-1)),s("div",ss,g(m.value),1)]),i[3]||(i[3]=s("div",{class:"vs-connector"},"â†’",-1)),i[4]||(i[4]=s("div",{class:"vs-box task-box"},[s("div",{class:"box-label"},"Task"),s("div",{class:"box-content"},"Book appointments")],-1))]),s("div",ts,[s("button",{onClick:i[0]||(i[0]=e=>r.$emit("check-vs")),class:"vs-button secondary"}," Check out Agent Studio â†’ "),s("button",{onClick:i[1]||(i[1]=e=>r.$emit("keep-building")),class:"vs-button primary"}," Keep building â†’ ")])]))}},is=$(ns,[["__scopeId","data-v-0494a0c2"]]),os={class:"whole-plan-view"},as={key:0},ls={class:"plan-phases"},rs={class:"phase-number"},ds={class:"phase-title"},us={class:"phase-description"},cs={key:0,class:"phase-items"},ms={class:"action-section"},ps={class:"action-buttons"},gs=["disabled"],hs=["disabled"],fs={key:1,class:"plan-summary"},vs={class:"summary-text"},ys={__name:"WholePlanView",emits:["confirm","cancel"],setup(a,{emit:c}){const m=c,r=C(!1),i=C(null),e=C(!1),n=()=>{r.value||(r.value=!0,i.value="confirm",e.value=!0,m("confirm"))},h=()=>{r.value||(r.value=!0,i.value="cancel",e.value=!0,m("cancel"))},u=[{number:1,title:"Agent Foundation & Tasks",description:"Define your company context and the specific tasks you want your agent to handle",items:["Company information","Business hours & scheduling rules","Core agent tasks"]},{number:2,title:"Connect Tools",description:"Connect tools and platforms your agent needs to access",items:["Calendar integration (Google Calendar, Outlook)","Video conferencing (Zoom, Google Meet)","CRM or other platforms"]},{number:3,title:"Safety & Guardrails",description:"Set boundaries to ensure your agent operates safely",items:["Safety rules","Identity verification","Business rules & constraints"]},{number:4,title:"Validate & Refine",description:"Review progress and make improvements",items:["Identify gaps","Apply suggested improvements","Finalize configuration"]},{number:5,title:"Design Conversations",description:"Build conversation flows for key interactions",items:["Scheduling flows","Rescheduling logic","Confirmations & follow-ups"]},{number:6,title:"Test & Launch",description:"Validate everything works as expected",items:["Run test scenarios","Generate demo link","Deploy when ready"]}];return(b,v)=>(l(),d("div",os,[e.value?(l(),d("div",fs,[s("p",vs,[s("strong",null,g(i.value==="confirm"?"Running":"Starting")+" 6-Phase Build Plan:",1),v[3]||(v[3]=Ae(" Foundation â†’ Connect â†’ Safety â†’ Validate â†’ Design â†’ Test ",-1))]),s("button",{onClick:v[0]||(v[0]=_=>e.value=!1),class:"view-details-btn"}," View plan details ")])):(l(),d("div",as,[v[2]||(v[2]=s("div",{class:"phases-header"},[s("h3",{class:"phases-title"},"6-Phase Build Plan"),s("p",{class:"phases-subtitle"},"Foundation â†’ Connect â†’ Safety â†’ Validate â†’ Design â†’ Test")],-1)),s("div",ls,[(l(),d(P,null,T(u,(_,w)=>s("div",{key:_.number,class:"phase-card"},[s("div",rs,"Phase "+g(_.number),1),s("h4",ds,g(_.title),1),s("p",us,g(_.description),1),_.items&&_.items.length>0?(l(),d("div",cs,[(l(!0),d(P,null,T(_.items,A=>(l(),d("div",{key:A,class:"phase-item"},g(A),1))),128))])):S("",!0)])),64))]),s("div",ms,[v[1]||(v[1]=s("h4",{class:"action-title"},"How would you like to proceed?",-1)),s("div",ps,[s("button",{onClick:h,class:G(["action-btn secondary-action",{selected:i.value==="cancel"}]),disabled:r.value},g(i.value==="cancel"?"Starting guided setup...":"Guide me step by step"),11,gs),s("button",{onClick:n,class:G(["action-btn primary-action",{selected:i.value==="confirm"}]),disabled:r.value},g(i.value==="confirm"?"Running plan...":"Run the whole plan"),11,hs)])])]))]))}},bs=$(ys,[["__scopeId","data-v-fe1df751"]]),_s={class:"document-input-card"},ks={class:"input-actions"},Ss=["disabled"],ws=["disabled"],As={__name:"DocumentInput",emits:["submit","cancel"],setup(a,{emit:c}){const m=c,r=C(""),i=C(!1),e=C(null),n=()=>{e.value&&(e.value.style.height="auto",e.value.style.height=e.value.scrollHeight+"px")};X(()=>{F(()=>{e.value&&e.value.focus()})});const h=()=>{!r.value.trim()||i.value||(i.value=!0,m("submit",r.value.trim()))},u=()=>{i.value||m("cancel")};return(b,v)=>(l(),d("div",_s,[v[1]||(v[1]=s("p",{class:"input-label"},"Paste your requirements document below:",-1)),re(s("textarea",{"onUpdate:modelValue":v[0]||(v[0]=_=>r.value=_),placeholder:"Paste your document here... Include details like business hours, appointment types, scheduling rules, safety requirements, etc.",class:"document-textarea",rows:"8",ref_key:"textarea",ref:e,onInput:n},null,544),[[de,r.value]]),s("div",ks,[s("button",{onClick:u,disabled:i.value,class:"action-btn cancel-btn"}," Cancel ",8,Ss),s("button",{onClick:h,disabled:i.value||!r.value.trim(),class:"action-btn submit-btn"},g(i.value?"Processing...":"Submit"),9,ws)])]))}},Is=$(As,[["__scopeId","data-v-6e1be654"]]),Cs={class:"loading-progress"},$s={class:"progress-header"},Ms={class:"progress-title"},Ps={class:"progress-items"},Ts={class:"progress-icon"},xs={key:0,class:"completed-dot"},qs={key:1,class:"active-dot"},Gs={key:2,class:"dot"},Fs={class:"progress-content"},Rs={class:"progress-label"},Ns={__name:"LoadingProgress",props:{title:{type:String,default:"Configuring your agent..."},items:{type:Array,required:!0}},setup(a){const c=a,m=ue(),r=I(()=>{const i=m.currentPhase.number;return c.items.map((e,n)=>{const h=n+1;let u="pending";return h<i?u="completed":h===i&&(u="in_progress"),{...e,status:u}})});return(i,e)=>(l(),d("div",Cs,[s("div",$s,[s("span",Ms,g(a.title),1)]),s("div",Ps,[(l(!0),d(P,null,T(r.value,(n,h)=>(l(),d("div",{key:h,class:G(["progress-item",n.status])},[s("div",Ts,[n.status==="completed"?(l(),d("span",xs)):n.status==="in_progress"?(l(),d("span",qs)):(l(),d("span",Gs))]),s("div",Fs,[s("div",Rs,g(n.label),1)])],2))),128))])]))}},J=$(Ns,[["__scopeId","data-v-e8ff17c4"]]),Ws={class:"skill-selector"},Ls={class:"skill-options"},Os=["value","checked","onChange"],Vs={class:"skill-label"},Bs=["disabled"],Ds={__name:"SkillSelector",props:{skills:{type:Array,required:!0}},emits:["continue"],setup(a,{emit:c}){const m=c,r=C([]),i=h=>r.value.includes(h),e=h=>{const u=r.value.indexOf(h);u>-1?r.value.splice(u,1):r.value.push(h)},n=()=>{r.value.length>0&&m("continue",r.value)};return(h,u)=>(l(),d("div",Ws,[s("div",Ls,[(l(!0),d(P,null,T(a.skills,b=>(l(),d("label",{key:b.id,class:G(["skill-option",{selected:i(b.id)}])},[s("input",{type:"checkbox",value:b.id,checked:i(b.id),onChange:v=>e(b.id),class:"skill-checkbox"},null,40,Os),s("span",Vs,g(b.label),1)],2))),128))]),s("button",{onClick:n,disabled:r.value.length===0,class:"continue-button"}," Continue with selected skills ",8,Bs)]))}},Hs=$(Ds,[["__scopeId","data-v-71be668e"]]),Qs={class:"template-skill-confirmation"},Es={class:"confirmation-heading"},Ys={class:"capabilities-list"},zs={class:"capability-text"},js={class:"action-buttons"},Ks={key:0,class:"additional-skills-section"},Us={class:"skill-options"},Zs=["value","checked","onChange"],Js={class:"skill-label"},Xs={__name:"TemplateSkillConfirmation",props:{agentGoal:{type:String,required:!0},preSelectedSkills:{type:Array,required:!0},additionalSkills:{type:Array,required:!0}},emits:["continue"],setup(a,{emit:c}){const m=a,r=c,i=C(!1),e=C([]),n={appointment_scheduler:["Connect with a calendar","Collect appointment details and check availability","Book and cancel appointments","Send confirmations"],reminders:["Send reminders"],form_collector:["Collect forms"],billing_helper:["Answer billing questions"],question_answering:["Answer common questions"],prescription_refills:["Handle prescription refills"],routing:["Route inquiries to the right team"],custom:["Perform custom tasks"]},h=I(()=>{const _=[];return m.preSelectedSkills.forEach(w=>{const A=n[w]||[];_.push(...A)}),_}),u=_=>e.value.includes(_),b=_=>{const w=e.value.indexOf(_);w>-1?e.value.splice(w,1):e.value.push(_)},v=()=>{const _=[...m.preSelectedSkills,...e.value];r("continue",_)};return(_,w)=>(l(),d("div",Qs,[s("h3",Es," Great! we're going to build an agent that focus on "+g(a.agentGoal)+". So far, this agent is going to be able to: ",1),s("div",Ys,[(l(!0),d(P,null,T(h.value,(A,R)=>(l(),d("div",{key:R,class:"capability-item"},[w[1]||(w[1]=s("span",{class:"checkmark"},"âœ“",-1)),s("span",zs,g(A),1)]))),128))]),s("div",js,[s("button",{onClick:v,class:"continue-button primary"}," Continue "),i.value?S("",!0):(l(),d("button",{key:0,onClick:w[0]||(w[0]=A=>i.value=!0),class:"continue-button secondary"}," Add more skills "))]),i.value?(l(),d("div",Ks,[w[2]||(w[2]=s("p",{class:"additional-skills-text"}," Select any additional skills you'd like to add: ",-1)),s("div",Us,[(l(!0),d(P,null,T(a.additionalSkills,A=>(l(),d("label",{key:A.id,class:G(["skill-option",{selected:u(A.id)}])},[s("input",{type:"checkbox",value:A.id,checked:u(A.id),onChange:R=>b(A.id),class:"skill-checkbox"},null,40,Zs),s("span",Js,g(A.label),1)],2))),128))])])):S("",!0)]))}},et=$(Xs,[["__scopeId","data-v-adcd7c88"]]),st={class:"path-choice-card"},tt={class:"choice-boxes"},nt={class:"box-content"},it={class:"canvas-preview"},ot={class:"canvas-workspace"},at={class:"studio-card agent-card"},lt={class:"card-content"},rt={class:"card-description"},dt={class:"card-content"},ut={class:"card-title"},ct={class:"card-description"},mt={__name:"PathChoiceCard",emits:["path-selected"],setup(a,{emit:c}){const m=c,r=W(),i=I(()=>r.name||"Your Agent"),e=I(()=>{const h={appointment_scheduler:{label:"Bookings",description:"Help customers with all booking related requests"},form_collector:{label:"Collect Forms",description:"Collect and process forms from customers"},billing_helper:{label:"Billing",description:"Answer billing and payment questions"},question_answering:{label:"Q&A",description:"Answer common customer questions"},prescription_refills:{label:"Prescriptions",description:"Handle prescription refill requests"},reminders:{label:"Reminders",description:"Send reminders and notifications"},routing:{label:"Routing",description:"Route inquiries to the right team"},custom:{label:"Custom",description:"Perform custom tasks"}};return r.skills.slice(0,2).map(u=>h[u.type]||{label:u.type,description:"Custom skill"})}),n=h=>{h==="guided"?m("path-selected","Guide me step by step"):m("path-selected","I'll configure it myself in the advanced builder")};return(h,u)=>(l(),d("div",st,[u[9]||(u[9]=s("h3",{class:"choice-heading"},"How would you like to configure your agent?",-1)),s("div",tt,[s("div",{class:"choice-box guided-box",onClick:u[0]||(u[0]=b=>n("guided"))},[...u[2]||(u[2]=[Ie('<div class="box-header" data-v-7ad71141><h4 class="box-title" data-v-7ad71141>Guide me step by step</h4></div><div class="box-content" data-v-7ad71141><p class="box-description" data-v-7ad71141> Answer a few questions and we&#39;ll set everything up for you </p><div class="illustration conversational-flow" data-v-7ad71141><div class="flow-step" style="animation-delay:0s;" data-v-7ad71141><div class="flow-icon ai-icon" data-v-7ad71141>âœ¨</div><div class="flow-message ai-message" data-v-7ad71141>What are your business hours?</div></div><div class="flow-step reverse" style="animation-delay:0.4s;" data-v-7ad71141><div class="flow-message user-message" data-v-7ad71141>Monday-Friday, 9 AM - 5 PM</div></div><div class="flow-step" style="animation-delay:0.8s;" data-v-7ad71141><div class="flow-icon ai-icon" data-v-7ad71141>âœ¨</div><div class="flow-message ai-message" data-v-7ad71141>Great! How long are appointments?</div></div><div class="flow-step reverse" style="animation-delay:1.2s;" data-v-7ad71141><div class="flow-message user-message" data-v-7ad71141>30 minutes typically</div></div><div class="flow-step" style="animation-delay:1.6s;" data-v-7ad71141><div class="flow-icon ai-icon" data-v-7ad71141>âœ¨</div><div class="flow-message ai-message" data-v-7ad71141>Perfect! Setting that up now...</div></div></div></div>',2)])]),s("div",{class:"choice-box advanced-box",onClick:u[1]||(u[1]=b=>n("advanced"))},[u[8]||(u[8]=s("div",{class:"box-header"},[s("h4",{class:"box-title"},"I'll configure it myself")],-1)),s("div",nt,[u[7]||(u[7]=s("p",{class:"box-description"}," Jump into the advanced builder with your agent pre-configured ",-1)),s("div",it,[s("div",ot,[s("div",at,[u[4]||(u[4]=s("div",{class:"card-header"},[s("span",{class:"card-icon"},"ðŸ’¬"),s("span",{class:"card-type"},"AI Agent")],-1)),s("div",lt,[u[3]||(u[3]=s("div",{class:"card-title"},"Agent",-1)),s("div",rt,g(i.value),1)])]),(l(!0),d(P,null,T(e.value,(b,v)=>(l(),d("div",{key:v,class:"studio-card skill-card",style:Ce({top:`${40+v*35}px`,left:`${120+v*50}px`})},[u[5]||(u[5]=s("div",{class:"card-header"},[s("span",{class:"card-icon"},"â—†"),s("span",{class:"card-type"},"Skill"),s("span",{class:"card-status"},"Draft")],-1)),s("div",dt,[s("div",ut,g(b.label),1),s("div",ct,g(b.description),1)])],4))),128))]),u[6]||(u[6]=s("div",{class:"canvas-footer"},[s("span",{class:"canvas-hint"},"Visual workflow builder")],-1))])])])])]))}},pt=$(mt,[["__scopeId","data-v-7ad71141"]]),gt={class:"suggestion-chips"},ht=["onClick"],ft={__name:"SuggestionChips",props:{suggestions:{type:Array,required:!0}},emits:["chip-clicked"],setup(a,{emit:c}){const m=c,r=i=>{m("chip-clicked",i)};return(i,e)=>(l(),d("div",gt,[(l(!0),d(P,null,T(a.suggestions,(n,h)=>(l(),d("button",{key:h,onClick:u=>r(n),class:"suggestion-chip"},g(n),9,ht))),128))]))}},vt=$(ft,[["__scopeId","data-v-be027b2a"]]),yt={class:"message-bubble"},bt={key:9,class:"simple-loading"},_t={class:"loading-text"},kt={key:0,class:"message-actions"},St=["onClick"],wt={class:"message-timestamp"},At={__name:"ChatMessage",props:{message:{type:Object,required:!0}},emits:["action-clicked","document-submitted","skills-selected","template-skills-confirmed","suggestion-clicked"],setup(a){const c=a,m=I(()=>c.message.content&&/^Step \d+ of \d+:/.test(c.message.content)),r=i=>i?new Date(i).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";return(i,e)=>(l(),d("div",{class:G(["chat-message",a.message.sender])},[s("div",yt,[a.message.type==="validation"?(l(),M(Ze,{key:0,improvements:a.message.improvements||[],onApplyAll:e[0]||(e[0]=n=>i.$emit("action-clicked","Apply all")),onReviewEach:e[1]||(e[1]=n=>i.$emit("action-clicked","Review each"))},null,8,["improvements"])):a.message.type==="visual-studio"?(l(),M(is,{key:1,onCheckVs:e[2]||(e[2]=n=>i.$emit("action-clicked","Check out Visual Studio")),onKeepBuilding:e[3]||(e[3]=n=>i.$emit("action-clicked","Keep building"))})):a.message.type==="whole-plan"?(l(),M(bs,{key:2,onConfirm:e[4]||(e[4]=n=>i.$emit("action-clicked","Confirm whole plan")),onCancel:e[5]||(e[5]=n=>i.$emit("action-clicked","Go step by step"))})):a.message.type==="document-input"?(l(),M(Is,{key:3,onSubmit:e[6]||(e[6]=n=>i.$emit("document-submitted",n)),onCancel:e[7]||(e[7]=n=>i.$emit("action-clicked","Cancel document paste"))})):a.message.type==="loading-progress"?(l(),M(J,{key:4,title:a.message.title,items:a.message.progressItems||[]},null,8,["title","items"])):a.message.type==="progress-tracker"?(l(),M(J,{key:5,title:a.message.title,items:a.message.progressItems||[]},null,8,["title","items"])):a.message.type==="template-skill-confirmation"?(l(),M(et,{key:6,agentGoal:a.message.agentGoal,preSelectedSkills:a.message.preSelectedSkills||[],additionalSkills:a.message.additionalSkills||[],onContinue:e[8]||(e[8]=n=>i.$emit("template-skills-confirmed",n))},null,8,["agentGoal","preSelectedSkills","additionalSkills"])):a.message.type==="skill-selector"?(l(),M(Hs,{key:7,skills:a.message.skills||[],onContinue:e[9]||(e[9]=n=>i.$emit("skills-selected",n))},null,8,["skills"])):a.message.type==="path-choice"?(l(),M(pt,{key:8,onPathSelected:e[10]||(e[10]=n=>i.$emit("action-clicked",n))})):a.message.type==="simple-loading"?(l(),d("div",bt,[e[12]||(e[12]=s("div",{class:"loading-spinner"},null,-1)),s("span",_t,g(a.message.content),1)])):(l(),d("div",{key:10,class:G(["message-text",{"step-announcement":m.value}])},g(a.message.content),3))]),a.message.actions&&a.message.actions.length>0&&a.message.type==="text"?(l(),d("div",kt,[(l(!0),d(P,null,T(a.message.actions,(n,h)=>(l(),d("button",{key:h,onClick:u=>i.$emit("action-clicked",n),class:"action-button"},g(n),9,St))),128))])):S("",!0),a.message.suggestions&&a.message.suggestions.length>0?(l(),M(vt,{key:1,suggestions:a.message.suggestions,onChipClicked:e[11]||(e[11]=n=>i.$emit("suggestion-clicked",n))},null,8,["suggestions"])):S("",!0),s("div",wt,g(r(a.message.timestamp)),1)],2))}},It=$(At,[["__scopeId","data-v-ed8b0a5b"]]),Ct={class:"message-input-container"},$t={class:"input-wrapper"},Mt=["onKeydown","disabled"],Pt=["disabled"],Tt={__name:"MessageInput",props:{disabled:{type:Boolean,default:!1},initialText:{type:String,default:""}},emits:["send-message","improve"],setup(a,{emit:c}){const m=a,r=c,i=C(""),e=C(null);U(()=>m.initialText,b=>{b&&(i.value.trim()?i.value=i.value.trim()+", "+b:i.value=b,F(()=>{if(e.value){e.value.focus();const v=e.value.value.length;e.value.setSelectionRange(v,v),n()}}))}),X(()=>{F(()=>{e.value&&!m.disabled&&e.value.focus()})});const n=()=>{e.value&&(e.value.style.height="auto",e.value.style.height=e.value.scrollHeight+"px")};U(i,()=>{F(()=>n())});const h=()=>{!i.value.trim()||m.disabled||(r("send-message",i.value.trim()),i.value="",F(()=>{e.value&&(e.value.style.height="auto",e.value.focus())}))},u=()=>{i.value+=`
`};return(b,v)=>(l(),d("div",Ct,[s("div",$t,[re(s("textarea",{"onUpdate:modelValue":v[0]||(v[0]=_=>i.value=_),onKeydown:[le(Z(h,["exact","prevent"]),["enter"]),le(Z(u,["shift","exact"]),["enter"])],placeholder:"Reply or answer question...",disabled:a.disabled,ref_key:"textarea",ref:e,rows:"1",class:"message-textarea"},null,40,Mt),[[de,i.value]]),s("button",{onClick:h,disabled:a.disabled||!i.value.trim(),class:"send-button"},[...v[1]||(v[1]=[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M18 10L2 2L5 10L2 18L18 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,Pt)])]))}},xt=$(Tt,[["__scopeId","data-v-97b1372e"]]),qt={class:"chat-header"},Gt={class:"header-content"},Ft={class:"agent-name"},Rt={class:"header-actions"},Nt={__name:"ProgressBar",emits:["preview-agent","save-and-exit"],setup(a){const c=W(),m=I(()=>c.name||"New AI Agent");return(r,i)=>(l(),d("div",qt,[s("div",Gt,[s("h1",Ft,g(m.value),1),s("div",Rt,[s("button",{onClick:i[0]||(i[0]=e=>r.$emit("save-and-exit")),class:"save-exit-button"}," Save & Exit "),s("button",{onClick:i[1]||(i[1]=e=>r.$emit("preview-agent")),class:"preview-button"}," Preview Agent ")])])]))}},Wt=$(Nt,[["__scopeId","data-v-bbc9d0ee"]]),Lt={class:"modal-header"},Ot={class:"modal-content"},Vt={class:"config-section"},Bt={class:"config-grid"},Dt={class:"config-item"},Ht={class:"config-value"},Qt={class:"config-item"},Et={class:"config-value"},Yt={key:0,class:"config-section"},zt={class:"config-grid"},jt={key:0,class:"config-item"},Kt={class:"config-value"},Ut={key:1,class:"config-item"},Zt={class:"config-value"},Jt={key:2,class:"config-item"},Xt={class:"config-value"},en={key:3,class:"config-item"},sn={class:"config-value"},tn={key:1,class:"config-section"},nn={class:"connections-list"},on={class:"connection-name"},an={key:2,class:"config-section"},ln={class:"config-grid"},rn={key:0,class:"config-item"},dn={class:"config-value"},un={key:1,class:"config-item"},cn={class:"config-value"},mn={class:"rules-list"},pn={key:3,class:"empty-state"},gn={class:"modal-footer"},hn=["disabled"],fn={__name:"PreviewModal",props:{isOpen:{type:Boolean,default:!1}},emits:["close","test-agent"],setup(a,{emit:c}){const m=c,r=W(),i=I(()=>r.name||"New AI Agent"),e=I(()=>r.goal||"Not set"),n=I(()=>r.foundation||{}),h=I(()=>r.connections||[]),u=I(()=>r.guardrails||{}),b=I(()=>n.value.purpose||n.value.businessHours||n.value.appointmentDuration),v=I(()=>h.value.length>0),_=I(()=>u.value.identityVerification||u.value.businessRules&&u.value.businessRules.length>0),w=I(()=>b.value&&v.value),A=()=>{m("test-agent"),m("close")};return(R,f)=>(l(),M(Pe,{to:"body"},[D(Me,{name:"modal"},{default:$e(()=>[a.isOpen?(l(),d("div",{key:0,class:"modal-overlay",onClick:f[3]||(f[3]=q=>R.$emit("close"))},[s("div",{class:"modal-container",onClick:f[2]||(f[2]=Z(()=>{},["stop"]))},[s("div",Lt,[f[4]||(f[4]=s("h2",null,"Agent Configuration",-1)),s("button",{onClick:f[0]||(f[0]=q=>R.$emit("close")),class:"close-button"}," Ã— ")]),s("div",Ot,[s("div",Vt,[f[7]||(f[7]=s("h3",{class:"section-title"},"Agent Details",-1)),s("div",Bt,[s("div",Dt,[f[5]||(f[5]=s("div",{class:"config-label"},"Name",-1)),s("div",Ht,g(i.value),1)]),s("div",Qt,[f[6]||(f[6]=s("div",{class:"config-label"},"Goal",-1)),s("div",Et,g(e.value),1)])])]),b.value?(l(),d("div",Yt,[f[12]||(f[12]=s("h3",{class:"section-title"},"Foundation",-1)),s("div",zt,[n.value.purpose?(l(),d("div",jt,[f[8]||(f[8]=s("div",{class:"config-label"},"Purpose",-1)),s("div",Kt,g(n.value.purpose),1)])):S("",!0),n.value.businessHours?(l(),d("div",Ut,[f[9]||(f[9]=s("div",{class:"config-label"},"Business Hours",-1)),s("div",Zt,g(n.value.businessHours),1)])):S("",!0),n.value.appointmentDuration?(l(),d("div",Jt,[f[10]||(f[10]=s("div",{class:"config-label"},"Appointment Duration",-1)),s("div",Xt,g(n.value.appointmentDuration),1)])):S("",!0),n.value.bufferTime?(l(),d("div",en,[f[11]||(f[11]=s("div",{class:"config-label"},"Buffer Time",-1)),s("div",sn,g(n.value.bufferTime),1)])):S("",!0)])])):S("",!0),v.value?(l(),d("div",tn,[f[13]||(f[13]=s("h3",{class:"section-title"},"Connections",-1)),s("div",nn,[(l(!0),d(P,null,T(h.value,q=>(l(),d("div",{key:q.type,class:"connection-item"},[s("span",{class:G(["connection-badge",q.type])},g(q.type),3),s("span",on,g(q.name),1)]))),128))])])):S("",!0),_.value?(l(),d("div",an,[f[16]||(f[16]=s("h3",{class:"section-title"},"Safety & Guardrails",-1)),s("div",ln,[u.value.identityVerification?(l(),d("div",rn,[f[14]||(f[14]=s("div",{class:"config-label"},"Identity Verification",-1)),s("div",dn,g(u.value.identityVerification),1)])):S("",!0),u.value.businessRules&&u.value.businessRules.length>0?(l(),d("div",un,[f[15]||(f[15]=s("div",{class:"config-label"},"Business Rules",-1)),s("div",cn,[s("ul",mn,[(l(!0),d(P,null,T(u.value.businessRules,(q,H)=>(l(),d("li",{key:H},g(q),1))),128))])])])):S("",!0)])])):S("",!0),!b.value&&!v.value&&!_.value?(l(),d("div",pn,[...f[17]||(f[17]=[s("p",null,"Agent configuration in progress...",-1),s("p",{class:"empty-subtitle"},"Complete the conversation to see your agent's full configuration.",-1)])])):S("",!0)]),s("div",gn,[s("button",{onClick:f[1]||(f[1]=q=>R.$emit("close")),class:"footer-button secondary"}," Close "),s("button",{onClick:A,class:"footer-button primary",disabled:!w.value}," Test Agent ",8,hn)])])])):S("",!0)]),_:1})]))}},vn=$(fn,[["__scopeId","data-v-1c6592a8"]]),yn={class:"builder-view"},bn={class:"builder-content"},_n={key:0,class:"steps-sidebar"},kn={__name:"ConversationalBuilderView",setup(a){const c=C(!1),m=[{label:"Agent Foundation & Skills",description:"Define your company context and the specific tasks you want your agent to handle"},{label:"Connect Tools",description:"Connect tools and platforms your agent needs to access"},{label:"Safety & Guardrails",description:"Set boundaries to ensure your agent operates safely"},{label:"Validate & Refine",description:"Review progress and make improvements"},{label:"Complete & Test",description:"Review your agent and start testing"}],r=Te(),i=xe(),e=ue(),n=W(),h=C(null),u=C(""),b=I(()=>!n.hasCompletedOnboarding),v=I(()=>{const t=e.currentState,o=e.allMessages;if(o.length===0)return!1;const p=o[o.length-1];return p.actions&&p.actions.length>0?!1:p.suggestions&&p.suggestions.length>0?!0:["pro_asking_missing","beginner_phase_1","beginner_phase_2","beginner_phase_3","pro_phase_3","pro_configuring_form_collector","pro_configuring_billing","pro_configuring_question_answering","pro_configuring_prescription_refills","pro_configuring_reminders","pro_configuring_custom"].includes(t)?p.content.includes("?")||p.content.toLowerCase().includes("describe")||p.content.toLowerCase().includes("tell me")||p.content.toLowerCase().includes("what"):!1}),_=(t=!0)=>{h.value&&h.value.scrollTo({top:h.value.scrollHeight,behavior:t?"smooth":"auto"})},w=(t=!0)=>{if(h.value){const o=h.value.lastElementChild;o&&o.scrollIntoView({behavior:t?"smooth":"auto",block:"end"})}};U(()=>e.messages.length,()=>{F(()=>{setTimeout(()=>{w()},100)})}),X(()=>{const t=r.query.goal||n.goal,o=r.query.agentName||n.goal||t;let p=null;if(r.query.preSelectedSkills)try{p=JSON.parse(r.query.preSelectedSkills)}catch(y){console.error("Failed to parse preSelectedSkills:",y)}if(!t){window.location.href="/";return}if(n.status==="deployed"){i.push(`/agent/${n.id}/overview`);return}n.id||n.initializeAgent(o),n.hasCompletedOnboarding&&(n.hasCompletedOnboarding=!1),e.messages.length===0&&e.initializeConversation(o,p),F(()=>{_(!1),setTimeout(()=>{_(!1)},100),setTimeout(()=>{_(!1)},500)})});const A=t=>{u.value=t,setTimeout(()=>{u.value=""},100)},R=t=>{e.addUserMessage(t),F(()=>{setTimeout(()=>{w()},50)}),ce(t)},f=t=>{e.addUserMessage(t),F(()=>{setTimeout(()=>{w()},50)}),me(t)},q=t=>{e.addUserMessage("*Document pasted*"),te(t)},H=()=>{i.push("/test-mode")},ce=t=>{const o=e.currentState;e.setWaitingForAI(!0),setTimeout(()=>{o==="asking_path"?t.toLowerCase().includes("step")?e.selectPath("beginner"):(t.toLowerCase().includes("whole")||t.toLowerCase().includes("plan"))&&e.selectPath("pro"):o==="beginner_phase_1"?pe(t):o==="pro_asking_missing"?fe(t):o==="pro_configuring_form_collector"?ke(t):o==="pro_configuring_billing"?Se(t):o==="pro_configuring_question_answering"?B(t,"question_answering"):o==="pro_configuring_prescription_refills"?B(t,"prescription_refills"):o==="pro_configuring_reminders"?B(t,"reminders"):o==="pro_configuring_custom"?B(t,"custom"):o==="beginner_phase_2"?ee(t):o==="beginner_phase_3"?se(t):o==="beginner_phase_4"?Q(t):o==="beginner_phase_5"?E(t):o==="pro_gathering_info"?te(t):o==="pro_phase_2_calendar"?ne(t):o==="pro_phase_2_video"?ie(t):o==="pro_phase_3"?oe(t):o==="pro_phase_4"&&ae(t),e.setWaitingForAI(!1)},1e3)},me=t=>{const o=e.currentState;if(e.setWaitingForAI(!0),t==="Test agent now"){n.completeOnboarding(),i.push("/test-mode");return}else if(t==="Check out Visual Studio"){e.currentState="pro_vs_opened",i.push("/workflow-builder");return}else if(t==="Keep building"){e.setWaitingForAI(!0),e.addAIMessage("Great! Let's continue building..."),setTimeout(()=>{V(),e.setWaitingForAI(!1)},1e3);return}else if(t==="Continue to validation"){e.setWaitingForAI(!0),setTimeout(()=>{V(),e.setWaitingForAI(!1)},500);return}setTimeout(()=>{if(o==="template_confirmation"){if(t==="Continue building"){e.addAIMessage(null,"path-choice"),e.currentState="asking_path",e.setWaitingForAI(!1);return}else if(t==="Add more skills"){e.addAIMessage("What additional skills should your agent have?","skill-selector",null,null,null,null,[{id:"appointment_scheduler",label:"Schedule appointments"},{id:"form_collector",label:"Collect forms"},{id:"billing_helper",label:"Answer billing questions"},{id:"question_answering",label:"Answer common questions"},{id:"prescription_refills",label:"Handle prescription refills"},{id:"reminders",label:"Send reminders"},{id:"custom",label:"Something else (I'll describe it)"}]),e.currentState=ConversationState.PRO_SKILL_SELECTION,e.setWaitingForAI(!1);return}}if(t==="Guide me step by step"){const p=n.skills.length,y=Math.min(2,p);e.addAIMessage(`Perfect! I'll ask ${y} quick ${y===1?"question":"questions"} to configure your key skills.`),setTimeout(()=>{e.currentlyConfiguringSkill=0,L()},800),e.setWaitingForAI(!1);return}else if(t==="I'll configure it myself in the advanced builder"){e.addAIMessage("Opening Agent Studio..."),n.completeOnboarding(),i.push("/agent-studio");return}else if(t==="Go step by step")e.selectPath("beginner");else if(t==="Confirm whole plan")e.selectPath("pro");else if(o==="pro_gathering_info")t==="Answer questions"?(e.currentState="pro_asking_missing",e.addAIMessage(`Great! Let's collect the key details:

Scheduling Parameters:
â€¢ What are your preferred business hours? (e.g., Monday-Friday, 9 AM - 5 PM EST)
â€¢ What's the default appointment duration?
â€¢ What buffer time between appointments?`)):t==="Paste a document"?e.addAIMessage(null,"document-input"):t==="Cancel document paste"&&e.addAIMessage("No problem! Would you like to:","text",["Answer questions","Paste a document"]);else if(o==="beginner_phase_2")ee(t);else if(o==="beginner_phase_3")se(t);else if(o==="beginner_phase_4")Q(t);else if(o==="beginner_phase_5")E(t);else if(o==="pro_phase_5")E(t);else if(o==="beginner_phase_6"||o==="pro_phase_6")if(t==="Open Agent Studio")e.addAIMessage("Opening Agent Studio..."),n.completeOnboarding(),i.push("/agent-studio");else if(t==="Save and get demo link"){e.addAIMessage("Generating your demo link...");const p=n.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),y=Date.now().toString(36),x=`https://daart-demo.com/${p}-${y}`;setTimeout(()=>{e.addAIMessage(`Your agent is ready! Here's your demo link:

${x}

Share this with your team to try the agent. The link will remain active for 30 days.

What would you like to do next?`,"text",["View agent overview","Test agent now"])},1500)}else t==="Back to overview"?(e.addAIMessage("Returning to overview..."),setTimeout(()=>{e.addAIMessage("Your agent is built and ready! You can continue building or deploy when ready.")},1e3)):t==="View agent overview"?c.value=!0:t==="Deploy agent"?(e.addAIMessage("Opening deployment wizard..."),n.completeOnboarding(),i.push("/deploy")):t==="Test agent now"?(e.addAIMessage("Opening test mode..."),n.completeOnboarding(),i.push("/test-mode")):t==="Monitor performance"&&(e.addAIMessage("Opening performance monitor..."),n.completeOnboarding(),i.push("/monitor"));else o==="pro_phase_2_calendar"?ne(t):o==="pro_phase_2_video"?ie(t):o==="pro_phase_3"?oe(t):o==="pro_phase_4"&&ae(t);e.setWaitingForAI(!1)},1e3)},pe=t=>{const o=e.currentPhase.currentQuestionIndex,p=[{field:"purpose",nextQuestion:"Perfect. Now let's talk about how customers will book these appointments. Do you have preferred dates or times when appointments are typically available? For instance, maybe you prioritize weekday mornings, or avoid Fridays?"},{field:"businessHours",nextQuestion:"That makes sense. What about appointment duration â€” how long do these typically last?"},{field:"appointmentDuration",nextQuestion:"Good. Now, when checking availability, should the agent respect any buffers between appointments? For example, 10 minutes between patients for notes and prep?"},{field:"bufferTime",nextQuestion:"Got it. For Holiday hours or blackout periods I have this information from your Office settings: Standard US holidays, plus lunch from 12:30 to 1:30 PM daily. Is that ok?"},{field:"blackoutPeriods",nextQuestion:null}];if(o<p.length){const y=p[o],x={};x[y.field]=t,n.updateFoundation(x),o===0&&e.updateMilestone({current:`Goal: ${n.goal}`,contextSummary:"Context: in progress"}),e.currentPhase.currentQuestionIndex++,y.nextQuestion?e.addAIMessage(y.nextQuestion):ge()}},ee=t=>{const o=e.currentPhase.currentQuestionIndex;o===0?(n.addConnection({type:"calendar",name:t}),e.addAIMessage("Great! Now for video meetings, which service do you use?","text",["Zoom","Microsoft Teams","Google Meet","Other"]),e.currentPhase.currentQuestionIndex++):o===1&&(n.addConnection({type:"video",name:t}),he())},se=t=>{const o=e.currentPhase.currentQuestionIndex;o===0?(n.updateGuardrails({identityVerification:t}),e.addAIMessage("Got it. Any business rules? For example, limits on new patients per day or provider-specific rules?"),e.currentPhase.currentQuestionIndex++):o===1?(n.updateGuardrails({businessRules:[t]}),setTimeout(()=>{e.addAIMessage("These are the basic safety rules. Would you like to add more advanced guardrails?")},500),setTimeout(()=>{e.addAIMessage("Choose one:","text",["Continue with basics","Add more guardrails"])},1e3),e.currentPhase.currentQuestionIndex++):o===2?t.includes("Add more")?(e.addAIMessage("What additional safety measures should your agent follow?","text",null,null,null,null,null,null,null,null,["Never share personal info","Always confirm before booking","Transfer to human if uncertain","Keep responses under 10 seconds"]),e.currentPhase.currentQuestionIndex++):(e.addAIMessage("Perfect! Your basic safety rules are configured."),setTimeout(()=>{Y()},800)):o===3&&(n.updateGuardrails({advancedRules:[t]}),e.addAIMessage("Advanced safety rules configured!"),setTimeout(()=>{Y()},800))},Q=t=>{const o=t.toLowerCase(),p=e.currentPhase.currentQuestionIndex;if(p===0){if(o.includes("improve"))e.addAIMessage("Applying all improvements..."),setTimeout(()=>{e.addAIMessage("All improvements applied! Your agent is configured and optimized."),setTimeout(()=>{e.userPath==="pro"?j():z()},1e3)},2e3);else if(o.includes("review")||o.includes("details")){const y=e.validationImprovements||[];e.addAIMessage("Here are the detailed improvements:","validation",null,y),e.currentPhase.currentQuestionIndex++}}else p===1?o.includes("apply")?(e.addAIMessage("Applying all improvements..."),setTimeout(()=>{e.addAIMessage("All improvements applied! Your agent is configured and optimized."),setTimeout(()=>{e.userPath==="pro"?j():z()},1e3)},2e3)):o.includes("review")&&(e.addAIMessage("Let's review each improvement individually. Which one would you like to start with?","text",["Buffer conflict resolution","Timezone display enhancement","New patient cap alert","Specialty routing fallback","Apply all and continue"]),e.currentPhase.currentQuestionIndex++):p>=2&&(e.addAIMessage("Applying improvements..."),setTimeout(()=>{e.addAIMessage("All improvements applied! Your agent is configured and optimized."),setTimeout(()=>{e.userPath==="pro"?j():z()},1e3)},2e3))},E=t=>{const o=t.toLowerCase();(o.includes("agent studio")||o.includes("studio"))&&(e.addAIMessage("Opening Agent Studio..."),n.completeOnboarding(),setTimeout(()=>{e.addAIMessage("Redirecting to Agent Studio..."),setTimeout(()=>{i.push("/agent-studio")},800)},800))},ge=()=>{e.currentPhase.number=2,e.currentPhase.name="Connect Your Tools",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Goal and context defined",current:"Connections: in progress"}),e.currentState="beginner_phase_2",e.addAIMessage("Step 2 of 5: Connect Your Tools"),setTimeout(()=>{e.addAIMessage("Which calendar system do your providers use?","text",["Google Calendar","Microsoft Calendar","Other"])},500)},he=()=>{e.currentPhase.number=3,e.currentPhase.name="Safety & Guardrails",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Connections added",current:"Safety rules: in progress"}),e.currentState="beginner_phase_3",e.addAIMessage("Step 3 of 5: Safety & Guardrails"),setTimeout(()=>{e.addAIMessage("Guardrails are safety rules that keep your agent within boundaries - like requiring caller verification before sharing sensitive information or preventing double-bookings.")},700),setTimeout(()=>{e.addAIMessage("For identity verification, what method works best for your business?","text",["Date of birth","Last 4 of phone","Account PIN","None needed"])},1400)},Y=()=>{e.currentPhase.number=4,e.currentPhase.name="Validate & Refine",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Safety rules configured",current:"Validation: in progress"}),e.currentState="beginner_phase_4",e.addAIMessage("Step 4 of 5: Validate & Refine"),setTimeout(()=>{e.addAIMessage("Running validation...")},500),setTimeout(()=>{const t=[{title:"Buffer conflict resolution",type:"optimization",critical:!1,description:"You've set a 15-minute buffer between appointments and a 12:30-1:30 PM lunch break.",details:"I recommend adding a 5-minute prep buffer before the first afternoon appointment (at 1:30 PM) to prevent back-to-back scheduling issues.",impact:"Prevents double-booking issues and gives staff time to prepare for afternoon appointments"},{title:"Timezone display enhancement",type:"ux",critical:!0,description:"For patients in different time zones, the agent should display times in both the patient's local time AND your office time.",details:"This reduces confusion when patients book appointments, especially if they're calling from Mountain or Eastern time zones while your office is in Pacific time.",impact:"Reduces booking errors and patient confusion by 40%"},{title:"New patient cap alert",type:"safety",critical:!0,description:"Your 5-new-patient-per-day cap should trigger proactive messaging.",details:"When only 1-2 slots remain for new patients, the agent should immediately offer next-day alternatives rather than showing unavailable times.",impact:"Improves patient experience and reduces frustration from seeing 'unavailable' times"},{title:"Specialty routing fallback",type:"enhancement",critical:!1,description:"When Dr. Martinez (pediatrics) or Dr. Chen (cardiology) are unavailable, the agent lacks clear guidance.",details:"The agent should explicitly ask if the patient wants to wait for that specialist or see a general practitioner for non-urgent cases.",impact:"Ensures patients get appropriate care routing and reduces missed appointment opportunities"}];e.validationImprovements=t;const o=t.filter(y=>y.critical).length,p=t.filter(y=>!y.critical).length;e.addAIMessage(`Found ${t.length} improvements (${o} critical, ${p} optional) that will enhance your agent's performance.`),setTimeout(()=>{e.addAIMessage("What would you like to do?","text",["Improve skill","Review details"])},700)},2e3)},z=()=>{e.currentPhase.number=5,e.currentPhase.name="Complete & Test",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Validation complete",current:"Ready to test"}),e.currentState="beginner_phase_5",n.updateStatus("ready"),e.addAIMessage("Step 5 of 5: Complete & Test"),setTimeout(()=>{e.addAIMessage("Great job! Your agent is configured and ready to go.")},600),setTimeout(()=>{const o=[...new Set(n.skills.map(k=>k.type))].map(k=>K(k)),y=[...new Set(n.connections.map(k=>k.name))].join(", "),x=n.guardrails.safetyRules.length>0?"Yes":"None";e.addAIMessage(`Here's what your agent can do:

âœ“ Skills: ${o.join(", ")}
âœ“ Connected tools: ${y}
âœ“ Safety guardrails: ${x}
âœ“ Validated and optimized`)},1300),setTimeout(()=>{e.addAIMessage("From here, you can jump into Agent Studio where you can test your agent with the AI Copilot and visually design and modify the conversation flow with a drag-and-drop interface.")},2100),setTimeout(()=>{e.addAIMessage("Ready to continue?","text",["Open Agent Studio"])},2800)},fe=t=>{e.addAIMessage("Got it! Processing your scheduling requirements..."),n.updateFoundation({purpose:"Appointment scheduling and management",businessHours:t.includes("hours")?t:"Monday-Friday, 9 AM - 5 PM",appointmentDuration:"30 minutes",bufferTime:"15 minutes",blackoutPeriods:"Standard holidays"}),setTimeout(()=>{e.addAIMessage("Perfect! I have all the details I need."),e.setWaitingForAI(!1),setTimeout(()=>{O()},800)},1e3)},te=(t=null)=>{t?(e.addAIMessage("Extracting requirements from your document..."),n.updateFoundation({purpose:"Medical consultations and appointment management",businessHours:"Monday-Thursday 9am-5pm, Friday 9am-12pm",appointmentDuration:"30-45 minutes",bufferTime:"15 minutes",blackoutPeriods:"US holidays, lunch 12:30-1:30pm"}),setTimeout(()=>{e.addAIMessage("Configuration complete! Found your scheduling rules, business hours, and appointment types."),setTimeout(()=>{O()},800)},1500)):(e.addAIMessage("Configuring with smart defaults based on your goal..."),n.updateFoundation({purpose:"Appointment management",businessHours:"Standard business hours",appointmentDuration:"30 minutes",bufferTime:"15 minutes",blackoutPeriods:"Standard holidays"}),setTimeout(()=>{e.addAIMessage("Configuration complete!"),setTimeout(()=>{O()},800)},1e3))},O=()=>{e.currentPhase.number=2,e.currentPhase.name="Connect Your Tools",e.currentState="pro_phase_2_calendar",e.updateMilestone({completed:"Foundation configured",current:"Connections: in progress"}),e.addAIMessage("Step 2 of 5: Connect Your Tools"),setTimeout(()=>{e.addAIMessage("Let's start with your calendar. Which one do you use?","text",["Google Calendar","Microsoft Calendar","Other"])},500)},ne=t=>{t.includes("Google")?(n.addConnection({type:"calendar",name:"Google Calendar"}),e.addAIMessage("Got it! Processing your scheduling requirements...")):t.includes("Microsoft")?(n.addConnection({type:"calendar",name:"Microsoft Calendar"}),e.addAIMessage("Got it! Processing your scheduling requirements...")):t.includes("Other")&&e.addAIMessage("Got it! We'll set that up later."),setTimeout(()=>{e.addAIMessage("Now for video calls. Which tool do you use?","text",["Zoom","Microsoft Teams","Other","None"]),e.currentState="pro_phase_2_video"},1500)},ie=t=>{t.includes("Zoom")?n.addConnection({type:"video",name:"Zoom"}):t.includes("Teams")&&n.addConnection({type:"video",name:"Microsoft Teams"}),e.addAIMessage("Perfect! I have all the details I need."),setTimeout(()=>{ve()},1e3)},ve=()=>{e.currentPhase.number=3,e.currentPhase.name="Safety & Guardrails",e.currentState="pro_phase_3",e.updateMilestone({completed:"Connections added",current:"Safety: in progress"}),e.addAIMessage("Step 3 of 5: Safety & Guardrails"),setTimeout(()=>{e.addAIMessage("Guardrails are safety rules that keep your agent operating within safe boundaries.")},600),setTimeout(()=>{e.addAIMessage("For identity verification, what method do you use?","text",["Date of birth","Account PIN","Last 4 of phone","Skip verification"])},1200)},oe=t=>{const o=e.currentPhase.currentQuestionIndex||0;o===0?(n.updateGuardrails({identityVerification:t,safetyRules:["Never invent availability","Read back before confirming","Keep responses under 10 seconds"]}),setTimeout(()=>{e.addAIMessage("Basic safety rules are set. Want to add more advanced guardrails?")},500),setTimeout(()=>{e.addAIMessage("Choose one:","text",["Continue with basics","Add more guardrails"])},1e3),e.currentPhase.currentQuestionIndex=1):o===1?t.includes("Add more")?(e.addAIMessage("What additional safety measures should your agent follow?","text",null,null,null,null,null,null,null,null,["Never share personal info","Always confirm before booking","Transfer to human if uncertain","Keep responses concise"]),e.currentPhase.currentQuestionIndex=2):(e.addAIMessage("Perfect! Safety configured."),setTimeout(()=>{V()},800)):o===2&&(n.updateGuardrails({advancedRules:[t]}),e.addAIMessage("Advanced safety rules configured!"),setTimeout(()=>{V()},800))},V=()=>{Y(),e.currentState="pro_phase_4"},ae=t=>{Q(t)},j=()=>{e.currentPhase.number=5,e.currentPhase.name="Complete & Test",e.currentPhase.status="in_progress",e.currentPhase.currentQuestionIndex=0,e.updateMilestone({completed:"Validation complete",current:"Ready to test"}),e.currentState="pro_phase_5",n.updateStatus("ready"),e.addAIMessage("Step 5 of 5: Complete & Test"),setTimeout(()=>{e.addAIMessage("Great job! Your agent is configured and ready to go.")},600),setTimeout(()=>{const o=[...new Set(n.skills.map(k=>k.type))].map(k=>K(k)),y=[...new Set(n.connections.map(k=>k.name))].join(", "),x=n.guardrails.safetyRules.length>0?"Yes":"None";e.addAIMessage(`Here's what your agent can do:

âœ“ Skills: ${o.join(", ")}
âœ“ Connected tools: ${y}
âœ“ Safety guardrails: ${x}
âœ“ Validated and optimized`)},1300),setTimeout(()=>{e.addAIMessage("From here, you can jump into Agent Studio where you can test your agent with the AI Copilot and visually design and modify the conversation flow with a drag-and-drop interface.")},2100),setTimeout(()=>{e.addAIMessage("Ready to continue?","text",["Open Agent Studio"])},2800)},ye=()=>{e.addAIMessage("Saving your progress..."),setTimeout(()=>{e.addAIMessage("Progress saved! You can return anytime to continue building."),setTimeout(()=>{i.push({path:"/",query:{saved:"true"}})},1e3)},500)},be=t=>{t.forEach(y=>{n.addSkill(y)});const o={appointment_scheduler:"Schedule appointments",form_collector:"Collect forms",billing_helper:"Answer billing questions",question_answering:"Answer common questions",prescription_refills:"Handle prescription refills",reminders:"Send reminders",routing:"Route inquiries",custom:"Custom tasks"},p=t.map(y=>o[y]||y);e.addAIMessage(`Great! Your agent will have these skills: ${p.join(", ")}`),setTimeout(()=>{e.addAIMessage(null,"path-choice"),e.currentState="asking_path"},800)},_e=t=>{const o=n.skills.map(k=>k.type);t.forEach(k=>{o.includes(k)||n.addSkill(k)});const p={appointment_scheduler:"Schedule appointments",form_collector:"Collect forms",billing_helper:"Answer billing questions",question_answering:"Answer common questions",prescription_refills:"Handle prescription refills",reminders:"Send reminders",routing:"Route inquiries",custom:"Custom tasks"},x=[...new Set(t)].map(k=>p[k]||k);e.addAIMessage(`Perfect! Your agent will have these skills: ${x.join(", ")}`),setTimeout(()=>{e.addAIMessage(null,"path-choice"),e.currentState="asking_path"},800)},K=t=>{const o={appointment_scheduler:"appointment scheduling",form_collector:"form collection",billing_helper:"billing assistance",question_answering:"Q&A",prescription_refills:"prescription refills",reminders:"reminders",routing:"routing",custom:"custom tasks",email_confirmations:"email confirmations",sms_reminders:"SMS reminders",reschedule_flows:"reschedule flows",answer_common_questions:"answer common questions",customer_support:"customer support",refund_processor:"refund processing"};return o[t]?o[t]:t.replace(/_/g," ").toLowerCase()},L=()=>{const t=e.currentlyConfiguringSkill,o=n.skills[t];if(!o||t>=2){if(t===2&&t<n.skills.length){const p=n.skills.slice(t),x=[...new Set(p.map(k=>k.type))].map(k=>K(k));e.addAIMessage(`I'll configure ${x.join(", ")} with smart defaults based on best practices.`)}setTimeout(()=>{O()},800);return}o.type==="appointment_scheduler"?(e.addAIMessage("What are your business hours for appointments?","text",null,null,null,null,null,null,null,null,["Monday-Friday, 9 AM - 5 PM","Monday-Saturday, 8 AM - 6 PM","24/7 availability","Custom schedule"]),e.currentState="pro_asking_missing"):o.type==="form_collector"?(e.addAIMessage("What forms do you need to collect?","text",null,null,null,null,null,null,null,null,["Patient intake forms","Insurance information","Contact forms","Medical history"]),e.currentState="pro_configuring_form_collector"):o.type==="billing_helper"?(e.addAIMessage("What billing questions should your agent handle?","text",null,null,null,null,null,null,null,null,["Payment methods","Refund policies","Invoice questions","Billing cycles"]),e.currentState="pro_configuring_billing"):o.type==="question_answering"?(e.addAIMessage("What types of questions should your agent be able to answer?","text",null,null,null,null,null,null,null,null,["Hours and location","Services offered","Pricing","General FAQs"]),e.currentState="pro_configuring_question_answering"):o.type==="prescription_refills"?(e.addAIMessage("How should your agent handle prescription refill requests?","text",null,null,null,null,null,null,null,null,["Verify patient identity","Check prescription status","Process refill requests","Notify pharmacy"]),e.currentState="pro_configuring_prescription_refills"):o.type==="reminders"?(e.addAIMessage("What types of reminders should your agent send?","text",null,null,null,null,null,null,null,null,["Appointment reminders","Payment due dates","Follow-up care","Medication schedules"]),e.currentState="pro_configuring_reminders"):o.type==="custom"?(e.addAIMessage("Please describe the custom skill you'd like your agent to have:"),e.currentState="pro_configuring_custom"):(e.addAIMessage(`Got it! I'll configure ${o.type} with smart defaults.`),setTimeout(()=>{e.currentlyConfiguringSkill++,L()},800))},ke=t=>{const o=e.currentlyConfiguringSkill,p=n.skills[o];p&&n.updateSkillConfig(p.id,{forms:t}),e.addAIMessage(`Got it! Your agent will collect: ${t}`),setTimeout(()=>{e.currentlyConfiguringSkill++,L()},800)},Se=t=>{const o=e.currentlyConfiguringSkill,p=n.skills[o];p&&n.updateSkillConfig(p.id,{billingQuestions:t}),e.addAIMessage(`Perfect! Your agent will handle: ${t}`),setTimeout(()=>{e.currentlyConfiguringSkill++,L()},800)},B=(t,o)=>{const p=e.currentlyConfiguringSkill,y=n.skills[p];y&&n.updateSkillConfig(y.id,{config:t}),e.addAIMessage(`Got it! Your agent will ${o==="custom"?"handle that":`handle ${o.replace(/_/g," ")}`}.`),setTimeout(()=>{e.currentlyConfiguringSkill++,L()},800)};return(t,o)=>(l(),d("div",yn,[D(Wt,{onPreviewAgent:o[0]||(o[0]=p=>c.value=!0),onSaveAndExit:ye}),s("div",bn,[b.value?(l(),d("aside",_n,[D(J,{title:"Building Your Agent",items:m})])):S("",!0),s("main",{class:G(["conversation-area",{"full-width":!b.value}])},[s("div",{class:"chat-messages",ref_key:"messagesContainer",ref:h},[(l(!0),d(P,null,T(qe(e).allMessages,p=>(l(),M(It,{key:p.id,message:p,onActionClicked:f,onDocumentSubmitted:q,onSkillsSelected:be,onTemplateSkillsConfirmed:_e,onSuggestionClicked:A},null,8,["message"]))),128))],512),v.value?(l(),M(xt,{key:0,"initial-text":u.value,onSendMessage:R},null,8,["initial-text"])):S("",!0)],2)]),D(vn,{"is-open":c.value,onClose:o[1]||(o[1]=p=>c.value=!1),onTestAgent:H},null,8,["is-open"])]))}},wn=$(kn,[["__scopeId","data-v-66c79172"]]);export{wn as default};
